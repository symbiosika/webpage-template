<div class="relative isolate">
  {# Gradient Background #}
  <div class="absolute inset-x-0 -top-3 -z-10 transform-gpu overflow-hidden px-36 blur-3xl" aria-hidden="true">
    <div class="mx-auto aspect-[1155/678] w-[72.1875rem] bg-gradient-to-tr from-highlight to-highlight-secondary opacity-30 dark:from-highlight-dark dark:to-highlight-secondary-dark" style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div>
  </div>

  {# Header Section #}
  <div class="mx-auto max-w-4xl text-center">
    {%- if data.title and data.title != "" -%}
      <h2 class="text-base/7 font-semibold text-highlight dark:text-highlight-dark">{{ data.title | trim }}</h2>
    {%- endif -%}
    {%- if data.headline and data.headline != "" -%}
      <p class="mt-2 text-balance text-5xl font-semibold tracking-tight text-content dark:text-content-dark sm:text-6xl">{{ data.headline | trim }}</p>
    {%- endif -%}
  </div>

  {%- if data.description and data.description != "" -%}
    <p class="mx-auto mt-6 max-w-2xl text-pretty text-center text-lg font-medium text-content-secondary dark:text-content-secondary-dark sm:text-xl/8">{{ data.description | trim }}</p>
  {%- endif -%}

  {# Pricing Cards Grid #}
  <div class="mx-auto mt-16 grid max-w-lg grid-cols-1 items-center gap-y-6 sm:mt-20 sm:gap-y-0 lg:max-w-4xl lg:grid-cols-2">
    {%- for plan in data.plans -%}
      {# Standard Plan Card #}
      {%- if not plan.featured -%}
        <div class="rounded-3xl rounded-t-3xl bg-background/60 dark:bg-background-dark/60 p-8 ring-1 ring-content/10 dark:ring-content-dark/10 sm:mx-8 sm:rounded-b-none sm:p-10 lg:mx-0 lg:rounded-bl-3xl lg:rounded-tr-none">
          {%- if plan.name and plan.name != "" -%}
            <h3 id="tier-{{ plan.id }}" class="text-base/7 font-semibold text-highlight dark:text-highlight-dark">{{- plan.name | trim -}}</h3>
          {%- endif -%}
          {%- if plan.price -%}
            <p class="mt-4 flex items-baseline gap-x-2">
              <span class="text-5xl font-semibold tracking-tight text-content dark:text-content-dark">{{- plan.price | trim -}}</span>
              {%- if plan.interval -%}
                <span class="text-base text-content-secondary dark:text-content-secondary-dark">{{- plan.interval | trim -}}</span>
              {%- endif -%}
            </p>
          {%- endif -%}
          {%- if plan.description and plan.description != "" -%}
            <p class="mt-6 text-base/7 text-content-secondary dark:text-content-secondary-dark">{{- plan.description | trim -}}</p>
          {%- endif -%}
          
          <ul role="list" class="mt-8 space-y-3 text-sm/6 text-content-secondary dark:text-content-secondary-dark sm:mt-10">
            {%- for feature in plan.features -%}
              <li class="flex gap-x-3">
                <svg class="h-6 w-5 flex-none text-highlight dark:text-highlight-dark" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                  <path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z" clip-rule="evenodd" />
                </svg>
                {{- feature -}}
              </li>
            {%- endfor -%}
          </ul>

          <a href="{{- plan.ctaLink -}}" aria-describedby="tier-{{ plan.id }}" 
             class="mt-8 block rounded-md px-3.5 py-2.5 text-center text-sm font-semibold text-highlight dark:text-highlight-dark ring-1 ring-inset ring-highlight/20 dark:ring-highlight-dark/20 hover:ring-highlight/30 dark:hover:ring-highlight-dark/30 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-highlight dark:focus-visible:outline-highlight-dark sm:mt-10">
            {{- plan.ctaText -}}
          </a>
        </div>
      {# Featured Plan Card #}
      {%- else -%}
        <div class="relative rounded-3xl bg-background-secondary dark:bg-background-secondary-dark p-8 shadow-2xl ring-1 ring-content/10 dark:ring-content-dark/10 sm:p-10">
          {%- if plan.name and plan.name != "" -%}
            <h3 id="tier-{{ plan.id }}" class="text-base/7 font-semibold text-highlight dark:text-highlight-dark">{{- plan.name | trim -}}</h3>
          {%- endif -%}
          {%- if plan.price -%}
            <p class="mt-4 flex items-baseline gap-x-2">
              <span class="text-5xl font-semibold tracking-tight text-content dark:text-content-dark">{{- plan.price | trim -}}</span>
              {%- if plan.interval -%}
                <span class="text-base text-content-secondary dark:text-content-secondary-dark">{{- plan.interval | trim -}}</span>
              {%- endif -%}
            </p>
          {%- endif -%}
          {%- if plan.description and plan.description != "" -%}
            <p class="mt-6 text-base/7 text-content-secondary-always-light dark:text-content-secondary-always-dark">{{- plan.description | trim -}}</p>
          {%- endif -%}

          <ul role="list" class="mt-8 space-y-3 text-sm/6 text-content-secondary-always-light dark:text-content-secondary-always-dark sm:mt-10">
            {%- for feature in plan.features -%}
              <li class="flex gap-x-3">
                <svg class="h-6 w-5 flex-none text-highlight dark:text-highlight-dark" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                  <path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z" clip-rule="evenodd" />
                </svg>
                {{- feature -}}
              </li>
            {%- endfor -%}
          </ul>

          <a href="{{- plan.ctaLink -}}" aria-describedby="tier-{{ plan.id }}"
             class="mt-8 block rounded-md bg-highlight dark:bg-highlight-dark px-3.5 py-2.5 text-center text-sm font-semibold text-content-always-light dark:text-content-always-dark shadow-sm hover:bg-highlight-secondary dark:hover:bg-highlight-secondary-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-highlight dark:focus-visible:outline-highlight-dark sm:mt-10">
            {{- plan.ctaText -}}
          </a>
        </div>
      {%- endif -%}
    {%- endfor -%}
  </div>
</div>
